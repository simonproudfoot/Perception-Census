var app=new Vue({el:"#app",data:()=>({menuOpen:!0,open:!1,count:10,playButton:document.getElementById("play-button"),slideSize:390,slideSpace:350,windowWidth:0,windowHeight:0,showPlay:!0,slides:[{img:"img/section-images/mini/ask-experts.png",title:"Fundamentals of Perception"},{img:"img/section-images/mini/sound-music.png",title:"Sound and Music"},{img:"img/section-images/mini/body-belief.png",title:"Body and Belief"},{img:"img/section-images/mini/time.png",title:"Time"},{img:"img/section-images/mini/colour.png",title:"Our Colourful World"},{img:"img/section-images/mini/digging-deeper.png",title:"Perception: Digging Deeper"},{img:"img/section-images/mini/boundaries-of-perception.png",title:"Boundaries of Perception"},{img:"img/section-images/mini/great-expectations.png",title:"Great Expectations"},{img:"img/section-images/mini/power-of-imagination.png",title:"The Power of Imagination"},{img:"img/section-images/mini/what-we-see.png",title:"What We See"}]}),mounted(){this.windowWidth=window.innerWidth,this.windowHeight=document.getElementById("sizeRef").clientHeight,window.addEventListener("resize",this.resizeElements),gsap.to(".play-button",{rotation:"360",ease:Linear.easeNone,repeat:-1});let video=document.getElementById("player"),wrapper=document.getElementById("videoSection"),step1=gsap.timeline({scrollTrigger:{trigger:"#container",start:"top top",end:"+="+3*this.windowHeight,scrub:2,pin:!0,pinSpacing:!0,onEnter:()=>{video.play(),video.currentTime=0,this.showPlay=!0},onLeave:()=>{video.pause(),video.currentTime=0,video.muted=!0,this.showPlay=!0},onEnterBack:()=>{video.play(),this.showPlay=!0}}});gsap.set(wrapper,{top:"60%"}),step1.to(wrapper,{y:-this.windowHeight/2,duration:3}),step1.fromTo(wrapper,{opacity:.3,borderRadius:"100%",height:window.innerWidth},{y:"-60%",duration:3,borderRadius:"0%",opacity:1,height:"100vh"}),step1.to(".hero",{y:-this.windowHeight/2,opacity:0,ease:"none",duration:4},"-=6"),step1.to(wrapper,{duration:10}),step1.to(".buttonWrap",{y:-this.windowHeight/2-100,opacity:1,duration:2},"-=12");let step2=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:"#container",start:"+="+this.windowHeight,endTrigger:"#carousel",scrub:!0,pin:!0,pinSpacing:!0,scrub:!0}}),progressTl;gsap.set(".front-page-item-new",{opacity:0,yPercent:20}),step2.to(".front-page-item-new",{yPercent:0,stagger:2,opacity:1,delay:0,duration:1}),step2.to(".front-page-item-new",{yPercent:-20,stagger:2,opacity:0,duration:1},"-=2"),gsap.timeline({scrollTrigger:{trigger:"#container",start:"+="+this.windowHeight,endTrigger:"#carousel",pin:!0,pinSpacing:!0,scrub:2}}).to(".progress__bar",{height:"100%",transformOrigin:"0px 0px"})},created(){},components:{"carousel-3d":Carousel3d.Carousel3d,slide:Carousel3d.Slide},methods:{resizeElements(){this.windowWidth=window.innerWidth,this.windowHeight=document.getElementById("sizeRef").clientHeight;let wrapper=document.getElementById("videoSection");gsap.set(wrapper,{height:window.innerWidth})},playClick(){this.showPlay=!1;let video=document.getElementById("player");video.currentTime=0,video.muted=!video.muted}}});